webpackJsonp([0,3],{135:function(t,e,n){"use strict";var o=n(0),r=n(127),i=n(205),a=(n.n(i),n(133)),c=n(360);n.n(c);n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.router=t,this.http=e,this.auth0Config()}return t.prototype.auth0Config=function(){var t=this;return this.http.get("api/config").toPromise().then(function(e){var n=e.json();if(n.err)throw new Error(n.err);t.lock=new Auth0Lock(n.clientId,n.domain)}).then(function(){t.lock.on("authenticated",function(e){t.idToken=e.idToken,localStorage.setItem("id_token",e.idToken),t.getUserProfile().then(function(){t.lock.hide(),t.router.navigate([""])})})}).catch(function(){return console.error("auth0 config error")})},t.prototype.getUserProfile=function(){var t=this;return new Promise(function(e){var n=JSON.parse(localStorage.getItem("profile"));return n?void e(n):void t.lock.getProfile(t.idToken,function(t,n){if(t)throw new Error(t.message);localStorage.setItem("profile",JSON.stringify(n)),e(n)})})},t.prototype.login=function(){this.lock.show()},t.prototype.logout=function(){localStorage.removeItem("profile"),localStorage.removeItem("id_token"),this.idToken=null,this.router.navigateByUrl("/about")},t.prototype.loggedIn=function(){return n.i(i.tokenNotExpired)("id_token",this.idToken)},t=s([n.i(o.Injectable)(),u("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.a&&a.a)&&e||Object,"function"==typeof(c="undefined"!=typeof r.Http&&r.Http)&&c||Object])],t);var e,c}()},319:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return a});var r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t=r([n.i(o.Component)({selector:"app-todo",template:n(639)}),i("design:paramtypes",[])],t)}()},320:function(t,e,n){"use strict";var o=n(0),r=n(135);n.d(e,"a",function(){return c});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.authService=t,this.title="Another 1500 Todo App",this.pages=[{name:"todos",active:!0},{name:"about",active:!1}]}return t.prototype.navSwitch=function(t){for(var e=0,n=this.pages;e<n.length;e++){var o=n[e];o.name==t?o.active=!0:o.active=!1}},t.prototype.activePage=function(){return this.pages.find(function(t){return t.active})},t.prototype.isActive=function(t){return this.pages.find(function(e){return e.name===t}).active},t=i([n.i(o.Component)({selector:"app-root",template:n(640)}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.a&&r.a)&&e||Object])],t);var e}()},321:function(t,e,n){"use strict";var o=n(0),r=n(127),i=n(205),a=(n.n(i),n(135)),c=n(360);n.n(c);n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,n){this.http=t,this.authHttp=e,this.authService=n,this.getUserId=this.authService.getUserProfile().then(function(t){return t.identities[0].user_id}),this.headers=new r.Headers({"Content-Type":"application/json"})}return t.prototype.getAll=function(){var t=this;return this.getUserId.then(function(e){return t.authHttp.get("api/todos/"+e).toPromise().then(function(t){var e=t.json();if(e.err)throw new Error(e.err);return e.data})}).catch(this.handleError)},t.prototype.getTodo=function(t){return this.authHttp.get("api/todo/"+t).toPromise().then(function(t){var e=t.json();if(e.err)throw new Error(e.err);return e.data}).catch(this.handleError)},t.prototype.create=function(t){var e=this;return this.getUserId.then(function(n){return e.authHttp.post("api/todo/",JSON.stringify({todo:t,done:!1,user_id:n}),{headers:e.headers}).toPromise().then(function(t){var e=t.json();if(e.err)throw new Error(e.err);return null})}).catch(this.handleError)},t.prototype.update=function(t){return this.authHttp.put("api/todo/"+t._id,JSON.stringify(t),{headers:this.headers}).toPromise().then(function(t){var e=t.json();if(e.err)throw new Error(e.err);return null}).catch(this.handleError)},t.prototype.delete=function(t){return this.authHttp.delete("api/todo/"+t,{headers:this.headers}).toPromise().then(function(t){var e=t.json();if(e.err)throw new Error(e.err);return null}).catch(this.handleError)},t.prototype.handleError=function(t){return Promise.reject(t.message||t)},t=s([n.i(o.Injectable)(),u("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.Http&&r.Http)&&e||Object,"function"==typeof(c="undefined"!=typeof i.AuthHttp&&i.AuthHttp)&&c||Object,"function"==typeof(l="undefined"!=typeof a.a&&a.a)&&l||Object])],t);var e,c,l}()},322:function(t,e,n){"use strict";var o=n(0),r=n(133),i=n(321);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t,e){this.todoService=t,this.router=e,this.colMd=12}return t.prototype.ngOnInit=function(){this.getAll()},t.prototype.getAll=function(){var t=this;this.todoService.getAll().then(function(e){return t.todos=e.sort(function(t,e){return e.added-t.added})})},t.prototype.delete=function(t){var e=this;this.todoService.delete(t._id).then(function(){e.todos=e.todos.filter(function(e){return e!==t}),e.selectedTodo===t&&(e.selectedTodo=null)})},t.prototype.create=function(t){var e=this;this.todoService.create(t).then(function(){return e.getAll()})},t.prototype.updateCheckbox=function(t){var e=this;t.done=!t.done,this.todoService.update(t).then(function(){return e.getAll()})},t.prototype.editTodo=function(t){this.colMd=8,this.selectedTodo=t},t.prototype.cancel=function(){this.getAll(),this.selectedTodo=null,this.colMd=12},t.prototype.update=function(){var t=this;this.todoService.update(this.selectedTodo).then(function(){return t.getAll()}),this.selectedTodo=null,this.colMd=12},t=a([n.i(o.Component)({selector:"app-todos-list",template:n(641)}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(s="undefined"!=typeof r.a&&r.a)&&s||Object])],t);var e,s}()},375:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=375},376:function(t,e,n){"use strict";var o=n(487),r=(n.n(o),n(456)),i=n(0),a=n(486),c=n(485);a.a.production&&n.i(i.enableProdMode)(),n.i(r.a)().bootstrapModule(c.a)},482:function(t,e,n){"use strict";var o=n(0),r=n(133),i=n(484),a=n(205),c=(n.n(a),n(319)),s=n(322);n.d(e,"a",function(){return d});var u=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=[{path:"todos",component:s.a,canActivate:[i.a]},{path:"",redirectTo:"/todos",pathMatch:"full"},{path:"about",component:c.a}],d=function(){function t(){}return t=u([n.i(o.NgModule)({imports:[r.b.forRoot(f)],exports:[r.b],providers:[a.AUTH_PROVIDERS,i.a]}),l("design:paramtypes",[])],t)}()},483:function(t,e,n){"use strict";var o=n(131),r=n(0),i=n(449),a=n(127),c=n(320),s=n(322),u=n(319),l=n(135),f=n(321),d=n(482);n.d(e,"a",function(){return v});var p=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},v=function(){function t(){}return t=p([n.i(r.NgModule)({imports:[o.b,i.a,a.HttpModule,d.a],declarations:[c.a,s.a,u.a],providers:[f.a,l.a],bootstrap:[c.a]}),h("design:paramtypes",[])],t)}()},484:function(t,e,n){"use strict";var o=n(0),r=n(133),i=n(135);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t,e){this.authService=t,this.router=e}return t.prototype.canActivate=function(){return!!this.authService.loggedIn()||(this.router.navigate(["/about"]),!1)},t=a([n.i(o.Injectable)(),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(s="undefined"!=typeof r.a&&r.a)&&s||Object])],t);var e,s}()},485:function(t,e,n){"use strict";var o=(n(320),n(483));n.d(e,"a",function(){return o.a})},486:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o={production:!0}},487:function(t,e,n){"use strict";var o=n(501),r=(n.n(o),n(494)),i=(n.n(r),n(490)),a=(n.n(i),n(496)),c=(n.n(a),n(495)),s=(n.n(c),n(493)),u=(n.n(s),n(492)),l=(n.n(u),n(500)),f=(n.n(l),n(489)),d=(n.n(f),n(488)),p=(n.n(d),n(498)),h=(n.n(p),n(491)),v=(n.n(h),n(499)),g=(n.n(v),n(497)),b=(n.n(g),n(502)),y=(n.n(b),n(660));n.n(y)},639:function(t,e){t.exports='<div class="container">\n  <h3>About</h3>\n</div><div class="container">\n  <h4>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</h4>\n  <div style="height: 10em"></div>\n</div>\n'},640:function(t,e){t.exports='<div class="navbar navbar-default navbar-static-top">\n  <div class="container">\n    <div class="navbar-header">\n      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-ex-collapse">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <a class="navbar-brand" routerLink="/todos"><span>{{title}}</span></a>\n    </div>\n    <div class="collapse navbar-collapse" id="navbar-ex-collapse">\n      <ul class="nav navbar-nav navbar-right">\n        <li *ngIf="!authService.loggedIn()"\n            (click)=authService.login()>\n          <a role="button">Log In</a>\n        </li>\n        <li *ngIf="authService.loggedIn()"\n            (click)=authService.logout()>\n          <a role="button">Log Out</a>\n        </li>\n        <li *ngIf="authService.loggedIn()"\n            (click)="navSwitch(\'todos\')"\n            [class.active]="isActive(\'todos\')">\n          <a routerLink="/todos">Todos</a>\n        </li>\n        <li (click)="navSwitch(\'about\')"\n            [class.active]="isActive(\'about\')">\n          <a routerLink="/about">About</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n\n<router-outlet></router-outlet>\n\n<footer class="section section-primary">\n  <div class="container">\n    <div class="row">\n      <div class="col-sm-6">\n        <h1>Contact Us!</h1>\n        <p>ievgen@lorem.ipsum</p>\n      </div>\n      <div class="col-sm-6">\n        <p class="text-info text-right">\n          <br>\n          <br>\n        </p>\n        <div class="row">\n          <div class="col-md-12 hidden-lg hidden-md hidden-sm text-left">\n            <a href="https://www.facebook.com/profile.php?id=100004862738922">\n              <i class="fa fa-3x fa-fw fa-facebook text-inverse"></i>\n            </a>\n            <a href="https://github.com/deugene">\n              <i class="fa fa-3x fa-fw fa-github text-inverse"></i>\n            </a>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-12 hidden-xs text-right">\n            <a href="https://www.facebook.com/profile.php?id=100004862738922">\n              <i class="fa fa-3x fa-fw fa-facebook text-inverse"></i>\n            </a>\n            <a href="https://github.com/deugene">\n              <i class="fa fa-3x fa-fw fa-github text-inverse"></i>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</footer>\n'},641:function(t,e){t.exports='<div class="container">\n  <h3>My Todos</h3>\n</div>\n<div class="section">\n  <div class="container">\n    <div class="row">\n      <div class="col-md-{{colMd}}">\n        <form role="form">\n          <div class="form-group">\n            <label class="control-label" for="newTodo">New todo</label>\n            <input class="form-control"\n                   id="newTodo"\n                   placeholder="todo"\n                   type="text"\n                   #newTodo>\n          </div>\n          <button class="btn btn-default"\n                  (click)="create(newTodo.value); newTodo.value=\'\'">\n            Add\n          </button>\n        </form>\n        <div style="height: 2em"></div>\n        <ul class="list-group">\n          <li *ngFor="let todo of todos"\n              class="list-group-item clearfix">\n            <input type="checkbox"\n                   [checked]="todo.done"\n                   (click)="updateCheckbox(todo); $event.stopPropagation()">\n            <span role="button" (click)="editTodo(todo)">{{todo.todo}}</span>\n            <span class="pull-right">\n              <button class="btn btn-xs btn-danger"\n                      (click)="delete(todo); $event.stopPropagation()">\n                Delete\n              </button>\n            </span>\n          </li>\n        </ul>\n      </div>\n      <div *ngIf="selectedTodo" class="col-md-4">\n        <h3>Edit task</h3>\n        <div class="form-group">\n          <label class="control-label" for="task">Todo: </label>\n          <input class="form-control"\n                 id="task"\n                 [(ngModel)]="selectedTodo.todo" placeholder="todo">\n        </div>\n        <button class="btn btn-default" (click)="cancel()">Cancel</button>\n        <button class="btn btn-default" (click)="update()">Save</button>\n      </div>\n    </div>\n  </div>\n</div>\n'},661:function(t,e,n){t.exports=n(376)}},[661]);
//# sourceMappingURL=main.010225a75974b12e699e.bundle.map