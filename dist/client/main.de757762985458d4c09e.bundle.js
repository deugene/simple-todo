webpackJsonp([0,3],{329:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t=i([n.i(o.Component)({selector:"app-todo",styles:[n(671)],template:n(676)}),r("design:paramtypes",[])],t)}()},330:function(t,e,n){"use strict";var o=n(0),i=n(97);n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.authService=t,this.title="Another 1500 Todo App"}return t=r([n.i(o.Component)({selector:"app-root",template:n(677),styles:[n(672)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},331:function(t,e,n){"use strict";var o=n(0),i=n(97);n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.authService=t}return t=r([n.i(o.Component)({selector:"app-home",template:n(679),styles:[n(674)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},332:function(t,e,n){"use strict";var o=n(0),i=n(130),r=n(206),a=(n.n(r),n(374));n.n(a);n.d(e,"a",function(){return d});var s=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e){this.http=t,this.authHttp=e,this.headers=new i.Headers({"Content-Type":"application/json"})}return t.prototype.getAll=function(t){return this.authHttp.get("api/todos/"+t).toPromise().then(function(t){var e=t.json();if(e.err)throw new Error(e.err);return e.data}).catch(this.handleError)},t.prototype.getTodo=function(t){return this.authHttp.get("api/todo/"+t).toPromise().then(function(t){var e=t.json();if(e.err)throw new Error(e.err);return e.data}).catch(this.handleError)},t.prototype.create=function(t){return this.authHttp.post("api/todo/",JSON.stringify(t),{headers:this.headers}).toPromise().then(function(t){var e=t.json();if(e.err)throw new Error(e.err);return null}).catch(this.handleError)},t.prototype.update=function(t){return this.authHttp.put("api/todo/"+t._id,JSON.stringify(t),{headers:this.headers}).toPromise().then(function(t){var e=t.json();if(e.err)throw new Error(e.err);return null}).catch(this.handleError)},t.prototype.updateAll=function(t,e){return this.authHttp.put("api/todos/"+e,JSON.stringify({todos:t}),{headers:this.headers}).toPromise().then(function(t){var e=t.json();if(e.err)throw new Error(e.err);return null}).catch(this.handleError)},t.prototype.delete=function(t){return this.authHttp.delete("api/todo/"+t,{headers:this.headers}).toPromise().then(function(t){var e=t.json();if(e.err)throw new Error(e.err);return null}).catch(this.handleError)},t.prototype.handleError=function(t){return Promise.reject(t.message||t)},t=s([n.i(o.Injectable)(),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.Http&&i.Http)&&e||Object,"function"==typeof(a="undefined"!=typeof r.AuthHttp&&r.AuthHttp)&&a||Object])],t);var e,a}()},333:function(t,e,n){"use strict";var o=n(0),i=n(135),r=n(297),a=n(507),s=n(332),c=n(97),d=n(373),l=(n.n(d),n(334)),u=(n.n(l),n(506));n.d(e,"a",function(){return h});var f=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function t(t,e,n,o,i,r){var s=this;this.todoService=t,this.router=e,this.authService=n,this.dragulaService=o,this.formBuilder=i,this.notificationsService=r,this.gmt=6e4*(new Date).getTimezoneOffset(),this.showDialog={visible:!1,type:""},this.reminderInputType="hidden",this.notificationsOptions={position:["top","right"]},this.todo=new a.a("",!1,"",void 0),this.formErrors={todo:"",reminder:""},this.validationMessages={todo:{required:"Title is required.",maxlength:"Title cannot be more than 150 characters long"},reminder:{minDate:"It must be future date."}},o.drop.subscribe(function(t){s.onDrop(t.slice(1))})}return t.prototype.ngOnInit=function(){var t=this;this.buildForm(),this.authService.getUserProfile().then(function(e){return t.user_id=e.identities[0].user_id}).then(function(){return t.getAll().then(function(){t.remind()})})},t.prototype.onDrop=function(t){var e=t[0],n=(t[1],t[2],t[3]),o=this.todos.find(function(t){return t._id===e.getAttribute("id")}),i=n?this.todos.find(function(t){return t._id===n.getAttribute("id")}):void 0,r=this.todos.reduce(function(t,e){return t.position>e.position?t:e}).position;i?(this.todos.map(function(t){return t._id!==o._id&&t.position<i.position?t.position=t.position-1:t._id===o._id&&(t.position=i.position-1),t}),this.todoService.updateAll(this.todos,this.user_id)):(o.position=r+1,this.todoService.update(o))},t.prototype.getAll=function(){var t=this;return this.todoService.getAll(this.user_id).then(function(e){return t.todos=e.sort(function(t,e){return t.position-e.position})})},t.prototype.delete=function(){var t=this;this.todoService.delete(this.selectedTodo._id).then(function(){t.todos=t.todos.filter(function(e){return e!==t.selectedTodo}),t.selectedTodo=null})},t.prototype.create=function(){var t,e=this;t=this.todos.length>1?this.todos.reduce(function(t,e){return t.position<e.position?t:e}).position:1===this.todos.length?this.todos[0].position:0,this.todo.position=t-1,this.todo.user_id=this.user_id,this.todoService.create(this.todo).then(function(){return e.getAll()})},t.prototype.update=function(t){var e=this;t&&(t.done=!t.done,this.selectedTodo=t),this.todoService.update(this.selectedTodo).then(function(){return e.getAll()})},t.prototype.showModal=function(t,e){this.selectedTodo=t,this.showDialog.visible=!this.showDialog.visible,this.showDialog.type=e,"edit"===e&&this.buildForm()},t.prototype.remind=function(){var t=this;new Promise(function(e){return t.todosToRemind=t.todos.filter(function(e){var n;return e.reminder&&(n=new Date(Date.parse(e.reminder)+t.gmt)),n&&n<new Date(Date.now())}),0===t.todosToRemind.length?e():void t.todosToRemind.forEach(function(e){t.notificationsService.success("Reminder",e.todo,{id:e._id})})}).then(function(){return setTimeout(t.remind.bind(t),3e3)})},t.prototype.onDestroy=function(t){var e=this,n=this.todos.find(function(e){return e._id===t});n.reminder="",this.todoService.update(n).then(function(){var t=e.todosToRemind.indexOf(n);e.todosToRemind.splice(t,1),0===e.todosToRemind.length&&e.remind()})},t.prototype.humanReadableDate=function(t){var e=Date.parse(t)+this.gmt,n=new Date(e).toLocaleDateString(),o=new Date(e).toLocaleTimeString();return n+" "+o},t.prototype.toggleReminderInputType=function(){this.reminderInputType="hidden"===this.reminderInputType?"datetime-local":"hidden"},t.prototype.onSubmit=function(t,e,n){t&&(console.log(t),this.todo.todo=this.todoForm.value.todo,this.todo.reminder=this.todoForm.value.reminder,this.selectedTodo&&(this.selectedTodo=this.todo),this[e](),this.todo=new a.a("",!1,"",void 0),this.reminderInputType="hidden",this.buildForm(),console.log(n),n&&n.cancel())},t.prototype.buildForm=function(){var t=this;this.selectedTodo&&(this.todo=this.selectedTodo),this.todoForm=this.formBuilder.group({todo:[this.todo.todo,[r.a.required,r.a.maxLength(150)]],reminder:[this.todo.reminder,[n.i(u.a)()]]}),this.todoForm.valueChanges.subscribe(function(e){return t.onValueChanged(e)}),this.onValueChanged()},t.prototype.onValueChanged=function(t){if(this.todoForm){var e=this.todoForm;for(var n in this.formErrors)if(this.formErrors.hasOwnProperty(n)){this.formErrors[n]="";var o=e.get(n);if(o&&o.dirty&&!o.valid){var i=this.validationMessages[n];for(var r in o.errors)o.errors.hasOwnProperty(r)&&(this.formErrors[n]+=i[r]+" ")}}}},t.prototype.cancel=function(t,e){t||(this.todo=new a.a("",!1,"",void 0),this.selectedTodo=null,this.buildForm()),e.cancel()},t=f([n.i(o.Component)({selector:"app-todos",template:n(680),styles:[n(675)]}),p("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.a&&s.a)&&e||Object,"function"==typeof(h="undefined"!=typeof i.a&&i.a)&&h||Object,"function"==typeof(v="undefined"!=typeof c.a&&c.a)&&v||Object,"function"==typeof(m="undefined"!=typeof d.DragulaService&&d.DragulaService)&&m||Object,"function"==typeof(g="undefined"!=typeof r.b&&r.b)&&g||Object,"function"==typeof(b="undefined"!=typeof l.NotificationsService&&l.NotificationsService)&&b||Object])],t);var e,h,v,m,g,b}()},389:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=389},390:function(t,e,n){"use strict";var o=n(509),i=(n.n(o),n(470)),r=n(0),a=n(508),s=n(505);a.a.production&&n.i(r.enableProdMode)(),n.i(i.a)().bootstrapModule(s.a)},501:function(t,e,n){"use strict";var o=n(0),i=n(135),r=n(503),a=n(206),s=(n.n(a),n(329)),c=n(333),d=n(331);n.d(e,"a",function(){return p});var l=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=[{path:"todos",component:c.a,canActivate:[r.a]},{path:"home",component:d.a},{path:"",redirectTo:"/todos",pathMatch:"full"},{path:"about",component:s.a}],p=function(){function t(){}return t=l([n.i(o.NgModule)({imports:[i.b.forRoot(f)],exports:[i.b],providers:[a.AUTH_PROVIDERS,r.a]}),u("design:paramtypes",[])],t)}()},502:function(t,e,n){"use strict";var o=n(94),i=n(0),r=n(297),a=n(130),s=n(330),c=n(333),d=n(329),l=n(331),u=n(504),f=n(373),p=(n.n(f),n(334)),h=(n.n(p),n(97)),v=n(332),m=n(501);n.d(e,"a",function(){return y});var g=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},b=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},y=function(){function t(){}return t=g([n.i(i.NgModule)({imports:[o.c,r.c,a.HttpModule,m.a,f.DragulaModule,p.SimpleNotificationsModule,r.d],declarations:[s.a,c.a,d.a,l.a,u.a],providers:[v.a,h.a],bootstrap:[s.a]}),b("design:paramtypes",[])],t)}()},503:function(t,e,n){"use strict";var o=n(0),i=n(135),r=n(97);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.authService=t,this.router=e}return t.prototype.canActivate=function(){return!!this.authService.loggedIn()||(this.router.navigate(["/home"]),!1)},t=a([n.i(o.Injectable)(),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.a&&r.a)&&e||Object,"function"==typeof(c="undefined"!=typeof i.a&&i.a)&&c||Object])],t);var e,c}()},504:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){this.dialogOptionsChange=new o.EventEmitter}return t.prototype.cancel=function(){this.dialogOptions.visible=!1,this.dialogOptionsChange.emit(this.dialogOptions)},i([n.i(o.Input)(),r("design:type",Object)],t.prototype,"dialogOptions",void 0),i([n.i(o.Output)(),r("design:type",Object)],t.prototype,"dialogOptionsChange",void 0),t=i([n.i(o.Component)({selector:"app-dialog",template:n(678),styles:[n(673)],exportAs:"dialog",animations:[n.i(o.trigger)("dialog",[n.i(o.transition)("void => *",[n.i(o.style)({transform:"scale3d(.3, .3, .3)"}),n.i(o.animate)(100)]),n.i(o.transition)("* => void",[n.i(o.animate)(100,n.i(o.style)({transform:"scale3d(.0, .0, .0)"}))])])]}),r("design:paramtypes",[])],t)}()},505:function(t,e,n){"use strict";var o=(n(330),n(502));n.d(e,"a",function(){return o.a})},506:function(t,e,n){"use strict";function o(){return function(t){var e=6e4*(new Date).getTimezoneOffset(),n=new Date(Date.parse(t.value)+e),o=new Date(Date.now()),i=o>n;return i?{minDate:{dateNow:o}}:null}}e.a=o},507:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(t,e,n,o,i,r,a){this.todo=t,this.done=e,this.user_id=n,this.position=o,this.added=i,this._id=r,this.reminder=a}return t}()},508:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o={production:!0}},509:function(t,e,n){"use strict";var o=n(526),i=(n.n(o),n(519)),r=(n.n(i),n(515)),a=(n.n(r),n(521)),s=(n.n(a),n(520)),c=(n.n(s),n(518)),d=(n.n(c),n(517)),l=(n.n(d),n(525)),u=(n.n(l),n(514)),f=(n.n(u),n(513)),p=(n.n(f),n(523)),h=(n.n(p),n(516)),v=(n.n(h),n(524)),m=(n.n(v),n(522)),g=(n.n(m),n(527)),b=(n.n(g),n(700));n.n(b)},671:function(t,e){t.exports=""},672:function(t,e){t.exports="footer{\n  margin-top:10vh;\n}\n"},673:function(t,e){t.exports=".overlay{\n  position:fixed;\n  top:0;\n  bottom:0;\n  left:0;\n  right:0;\n  background-color:rgba(0, 0, 0, 0.5);\n  z-index:1999;\n}\n\n.dialog{\n  z-index:2000;\n  position:fixed;\n  right:0;\n  left:0;\n  top:4vh;\n  margin-top:10vh;\n  margin-right:auto;\n  margin-left:auto;\n  min-height:25vh;\n  width:90vw;\n  max-width:520px;\n  background-color:#fff;\n  padding:4vh;\n  box-shadow:0 0.7vw 0.8vw -0.4vw rgba(0, 0, 0, 0.2), 0 1.3vw 1.9vw 0.2vw rgba(0, 0, 0, 0.14), 0 0.5vw 2.4vw 0.4vw rgba(0, 0, 0, 0.12);\n}\n\n@media (min-width: 80vw){\n  .dialog{\n    top:4vw;\n  }\n}\n"},674:function(t,e){t.exports=".btn{\n  font-size:2.5em;\n  margin:1em 0 3em;\n  padding:0.5em 1em;\n}\n"},675:function(t,e){t.exports="#del-dialog-header{\n  margin-bottom:30px;\n}\n\n.row-centered{\n  text-align:center;\n}\n\n.col-centered{\n  display:inline-block;\n  float:none;\n  text-align:left;\n  margin-right:-4px;\n}\n\n.list-group{\n  margin-top:2em;\n  padding-left:14px;\n}\n\n.section{\n  padding-right:4vw;\n}\n\na.btn{\n  width:8em;\n}\n\n#reminder{\n  max-width:14em;\n  float:right;\n}\n\n#reminder-group{\n  margin-top:1em;\n}\n\n#edit-reminder{\n  margin-bottom:1em;\n}\n\na.disabled{\n  pointer-events:none;\n}\n"},676:function(t,e){t.exports='<div class="container">\n  <h3>About</h3>\n</div><div class="container">\n  <h4>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</h4>\n  <div style="height: 10em"></div>\n</div>\n'},677:function(t,e){t.exports='<div class="navbar navbar-default navbar-static-top">\n  <div class="container">\n    <div class="navbar-header">\n      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-ex-collapse">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <a class="navbar-brand" routerLink="/todos"><span>{{title}}</span></a>\n    </div>\n    <div class="collapse navbar-collapse" id="navbar-ex-collapse">\n      <ul class="nav navbar-nav navbar-right">\n        <li *ngIf="!authService.loggedIn()"\n            (click)="authService.login()">\n          <a role="button">Log In</a>\n        </li>\n        <li *ngIf="authService.loggedIn()"\n            (click)="authService.logout()">\n          <a role="button">Log Out</a>\n        </li>\n        <li *ngIf="authService.loggedIn()"\n            routerLinkActive="active">\n          <a routerLink="/todos">Todos</a>\n        </li>\n        <li *ngIf="!authService.loggedIn()"\n            routerLinkActive="active">\n          <a routerLink="/home">Home</a>\n        </li>\n        <li routerLinkActive="active">\n          <a routerLink="/about">About</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n\n<router-outlet></router-outlet>\n\n<footer class="section section-primary">\n  <div class="container">\n    <div class="row">\n      <div class="col-sm-6">\n        <h1>Contact Us!</h1>\n        <p>ievgen@lorem.ipsum</p>\n      </div>\n      <div class="col-sm-6">\n        <p class="text-info text-right">\n          <br>\n          <br>\n        </p>\n        <div class="row">\n          <div class="col-md-12 hidden-lg hidden-md hidden-sm text-left">\n            <a href="https://www.facebook.com/profile.php?id=100004862738922">\n              <i class="fa fa-3x fa-fw fa-facebook text-inverse"></i>\n            </a>\n            <a href="https://github.com/deugene">\n              <i class="fa fa-3x fa-fw fa-github text-inverse"></i>\n            </a>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-12 hidden-xs text-right">\n            <a href="https://www.facebook.com/profile.php?id=100004862738922">\n              <i class="fa fa-3x fa-fw fa-facebook text-inverse"></i>\n            </a>\n            <a href="https://github.com/deugene">\n              <i class="fa fa-3x fa-fw fa-github text-inverse"></i>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</footer>\n'},678:function(t,e){t.exports='<div [@dialog] *ngIf="dialogOptions.visible" class="dialog">\n   <ng-content></ng-content>\n</div>\n<div *ngIf="dialogOptions.visible" class="overlay" (click)="cancel()"></div>\n'},679:function(t,e){t.exports='<div class="container">\n   <div class="row">\n     <div class="col-md-12">\n       <h1 class="text-center">Welcome to the Simple Todo App!</h1>\n     </div>\n   </div>\n   <div class="row">\n     <div class="col-md-12 text-center">\n       <a class="btn btn-lg btn-primary"\n          (click)="authService.login()">\n        Sign up!\n      </a>\n     </div>\n   </div>\n </div>\n'},680:function(t,e){t.exports='<div class="container">\n  <h3>My Todos</h3>\n</div>\n<div class="section">\n  <div class="container">\n\n    <div *ngIf="!showDialog.visible">\n\n    <form role="form" (ngSubmit)="onSubmit(todoForm.valid, \'create\')"\n          [formGroup]="todoForm">\n      <div class="form-group">\n\n        <div class="input-group">\n          <input type="text"\n                 class="form-control"\n                 placeholder="title"\n                 formControlName="todo"\n                 required>\n          <span class="input-group-btn">\n            <a class="btn btn-default"\n               [class.disabled]="!todoForm.valid"\n               (click)="onSubmit(todoForm.valid, \'create\')">\n              New Todo\n            </a>\n          </span>\n        </div>\n\n        <div *ngIf="formErrors.todo" class="alert alert-danger">\n          {{ formErrors.todo }}\n        </div>\n\n        <div class="input-group text-right" id="reminder-group">\n          <input [type]="reminderInputType"\n                 class="form-control"\n                 id="reminder"\n                 formControlName="reminder">\n          <span class="input-group-btn">\n            <a class="btn btn-default"\n               (click)="toggleReminderInputType()">\n              Set Reminder\n            </a>\n          </span>\n        </div>\n\n        <div *ngIf="formErrors.reminder" class="alert alert-danger">\n          {{ formErrors.reminder }}\n        </div>\n\n      </div>\n    </form>\n\n    </div>\n\n  </div>\n  <div class="list-group container" [dragula]="\'todos-list-bag\'">\n    <li *ngFor="let todo of todos"\n        class="list-group-item clearfix"\n        [id]="todo._id"\n        (click)="update(todo); $event.stopPropagation()"\n        role="button">\n      <input type="checkbox" [checked]="todo.done">\n      <span>{{todo.todo}}</span>\n      <span class="pull-right">\n        <span *ngIf="todo.reminder">\n          {{humanReadableDate(todo.reminder)}}\n        </span>\n        <span>\n          <button class="btn btn-xs btn-primary"\n                  (click)="showModal(todo, \'edit\'); $event.stopPropagation()">\n            Edit\n          </button>\n        </span>\n        <span>\n          <button class="btn btn-xs btn-danger"\n                  (click)="showModal(todo, \'delete\'); $event.stopPropagation()">\n            Delete\n          </button>\n        </span>\n      </span>\n    </li>\n  </div>\n</div>\n\n<div *ngIf="showDialog">\n  <app-dialog [(dialogOptions)]="showDialog" #dialog>\n\n    <div *ngIf="showDialog.type === \'delete\'">\n      <div class="text-center">\n        <h2 id="del-dialog-header">Are you shure?</h2>\n        <div class="container-fluid">\n          <div class="row row-centered">\n            <div class="col-md-4 col-centered">\n              <button class="btn-block btn btn-lg btn-default"\n                      (click)="dialog.cancel()">\n                No\n              </button>\n            </div>\n            <div class="col-md-4 col-centered">\n              <button class="btn-block btn btn-lg btn-danger"\n                      (click)="delete(); dialog.cancel()">\n                Yes\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div *ngIf="showDialog.type === \'edit\'">\n      <div class="container-fluid">\n        <div class="text-center">\n          <h2>Edit task</h2>\n        </div>\n\n        <form role="form"\n              (ngSubmit)="onSubmit(todoForm.valid, \'update\', dialog)"\n              [formGroup]="todoForm">\n          <div class="form-group">\n\n            <label class="control-label" for="task">Todo: </label>\n            <input type="text"\n                   class="form-control"\n                   id="task"\n                   placeholder="title"\n                   formControlName="todo"\n                   required>\n\n            <div *ngIf="formErrors.todo" class="alert alert-danger">\n              {{ formErrors.todo }}\n            </div>\n\n            <label class="control-label" for="edit-reminder">Reminder: </label>\n            <input type="datetime-local"\n                   class="form-control"\n                   id="edit-reminder"\n                   formControlName="reminder">\n\n            <div *ngIf="formErrors.reminder" class="alert alert-danger">\n              {{ formErrors.reminder }}\n            </div>\n\n            <div class="text-right">\n              <button class="btn btn-default"\n                      (click)="cancel(todoForm.valid, dialog)">\n                Cancel\n              </button>\n              <button class="btn btn-primary"\n                      (click)="onSubmit(todoForm.valid, \'update\', dialog)"\n                      [disabled]="!todoForm.valid">\n                Save\n              </button>\n            </div>\n\n          </div>\n        </form>\n\n      </div>\n    </div>\n\n  </app-dialog>\n</div>\n\n<simple-notifications [options]="notificationsOptions"\n                      (onDestroy)="onDestroy($event.id)">\n</simple-notifications>\n'},701:function(t,e,n){t.exports=n(390)},97:function(t,e,n){"use strict";var o=n(0),i=n(130),r=n(206),a=(n.n(r),n(135)),s=n(374);n.n(s);n.d(e,"a",function(){return l});var c=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.router=t,this.http=e,this.auth0Config()}return t.prototype.auth0Config=function(){var t=this;this.http.get("api/config").toPromise().then(function(e){var n=e.json();if(n.err)throw new Error(n.err);t.lock=new Auth0Lock(n.clientId,n.domain),t.lock.on("authenticated",function(e){t.idToken=e.idToken,localStorage.setItem("id_token",e.idToken),t.getUserProfile().then(function(){return t.router.navigate(["todos"])})})}).catch(function(){return console.error("auth0 config error")})},t.prototype.getUserProfile=function(){var t=this;return new Promise(function(e){var n=JSON.parse(localStorage.getItem("profile"));return n?void e(n):void t.lock.getProfile(t.idToken,function(t,n){if(t)throw new Error(t.message);localStorage.setItem("profile",JSON.stringify(n)),e(n)})})},t.prototype.login=function(){this.lock.show()},t.prototype.logout=function(){localStorage.removeItem("profile"),localStorage.removeItem("id_token"),this.idToken=null,this.router.navigate(["home"])},t.prototype.loggedIn=function(){return n.i(r.tokenNotExpired)("id_token",localStorage.getItem("id_token")||this.idToken)},t=c([n.i(o.Injectable)(),d("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.a&&a.a)&&e||Object,"function"==typeof(s="undefined"!=typeof i.Http&&i.Http)&&s||Object])],t);var e,s}()}},[701]);
//# sourceMappingURL=main.de757762985458d4c09e.bundle.map